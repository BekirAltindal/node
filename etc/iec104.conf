
nodes = {
     	iec104 = {
		type = "iec60870-5-104-slave"
		
		# network address and port of the server
		# 0.0.0.0 listens on all interfaces
		address = "0.0.0.0"
		port = 2402
		# common address of this IEC104 slave
		ca = 2
		# pack information objects with subsequent information object adresses tighter
		# ToDo: not implemented yet
		#pack = [
		#	{
		#		start = 1234
		#		end = 1235
		#	}
		#]

		out = {
			# map signals to information object addresses and asdu data types
			# one asdu per specified asdu_type is send for each batch of samples
			signals = (
				{
					name = "signal0"
					type = "float"
					# the asdu data type
					asdu_type = "short"
					# add 56 bit unix timestamp to asdu
					with_timestamp = true
					unit = "V"
					init = 0
					# the information object address of this signal
					ioa = 1234
				},
				# signal1 could be packed tighter in the asdu
				# as its ioa is adjacent to signal0
				# and signal0 and signal1 share the same
				# asdu type
				#
				# ToDo: allow dense packing (see "pack" above)
				# ToDo: allow mixed asdu types ()
				{
					name = "signal1"
					type = "float"
					asdu_type = "short"
					with_timestamp = true
					unit = "V"
					init = 0
					ioa = 1235
				}
			)
		}
	}
	signal = {
		type = "signal"
		signal = "mixed"
		values = 2
	}
}

paths = (
	{
		in = "signal"
		out = "iec104"
		hooks = (
			{ type = "print" }
		)
	}
)
